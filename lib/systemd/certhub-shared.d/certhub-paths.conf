[Service]

# Common path related environment variables used by:
# - certhub-cert-expire@.service
# - certhub-cert-export@.service
# - certhub-certbot-run@.service
# - certhub-dehydrated-run@.service
# - certhub-lego-run@.service
# - certhub-repo-push@.service

# CERTHUB_REPO:
# URL of the repository where certificates are stored.
#
Environment=CERTHUB_REPO=/var/lib/certhub/certs.git

# CERTHUB_CSR_PATH:
# Path to the CSR file.
#
Environment=CERTHUB_CSR_PATH=/etc/certhub/%i.csr.pem

# CERTHUB_CERT_PATH:
# Path to the certificate file inside the repository.
#
Environment=CERTHUB_CERT_PATH={WORKDIR}/%i.fullchain.pem

# CERTBOT_CONFIG:
# Path to a certbot configuration file.
#
Environment=CERTBOT_CONFIG=/etc/certhub/%i.certbot.ini

# DEHYDRATED_CONFIG:
# Path to a dehydrated configuration file.
#
Environment=DEHYDRATED_CONFIG=/etc/certhub/%i.dehydrated.conf

# LEGO_DIR:
# The path to the directory where lego stores accound data and issued
# certificates.
#
Environment=LEGO_DIR=/var/lib/certhub/private/lego

# LEGO_CONFIG:
# Path to a configuration file which consists of additional arguments.
#
Environment=LEGO_CONFIG=/etc/certhub/%i.lego.args

[Path]

# Branch in local repository watched by:
# - certhub-cert-export@.path
# - certhub-cert-expire@.path
# - certhub-repo-push@.path
PathChanged=/var/lib/certhub/certs.git/refs/heads/master
